{
  "$schema": "./schemas/game.schema.json",
  "_comment": "Master game definition - defines overall structure and stage progression",
  
  "id": "llamas_with_hats_rpg",
  "name": "Llamas With Hats: The RPG",
  "version": "0.1.0",
  
  "description": "A dark comedy RPG where you play as either Carl or Paul, two llamas with very different perspectives on recent events.",
  
  "characters": {
    "carl": {
      "id": "carl",
      "name": "Carl",
      "path": "chaos",
      "description": "The artist. Finds ecstasy in destruction and beauty in anarchy.",
      "color": "#4A7C59"
    },
    "paul": {
      "id": "paul",
      "name": "Paul",
      "path": "order",
      "description": "The curator. Seeks the bliss of pristine order and absolute stillness.",
      "color": "#8B4513"
    }
  },

  "paths": {
    "chaos": {
      "id": "chaos",
      "name": "Carl's Path",
      "description": "Experience the story as Carl — joyful, creative, and utterly psychopathic.",
      "playableCharacter": "carl",
      "aiCharacter": "paul"
    },
    "order": {
      "id": "order",
      "name": "Paul's Path",
      "description": "Experience the story as Paul — methodical, horrified, desperately seeking order.",
      "playableCharacter": "paul",
      "aiCharacter": "carl"
    }
  },
  
  "stageProgression": {
    "_comment": "Defines the linear progression of stages and transitions between them",

    "stages": [
      {
        "id": "stage1_house",
        "name": "The Morning After",
        "file": "stages/stage1/definition.json",
        "availablePaths": ["order", "chaos"],
        "unlockCondition": null,
        "transitions": {
          "next": "stage2_space",
          "conditions": {
            "goals": ["escape_house"]
          }
        }
      },
      {
        "id": "stage2_space",
        "name": "The Space Station",
        "file": "stages/stage2/definition.json",
        "availablePaths": ["order", "chaos"],
        "unlockCondition": {
          "completedStages": ["stage1_house"]
        },
        "transitions": {
          "next": "stage3_pirate",
          "conditions": {
            "goals": ["escape_station"]
          }
        }
      },
      {
        "id": "stage3_pirate",
        "name": "Pirate's Cove",
        "file": "stages/stage3/definition.json",
        "availablePaths": ["order", "chaos"],
        "unlockCondition": {
          "completedStages": ["stage2_space"]
        },
        "transitions": {
          "next": null,
          "conditions": null
        }
      }
    ],

    "startingStage": "stage1_house"
  },
  
  "globalSettings": {
    "horrorLevels": {
      "min": 0,
      "max": 10,
      "thresholds": {
        "low": 3,
        "medium": 5,
        "high": 7,
        "extreme": 9
      }
    },
    "difficulty": {
      "easy": {
        "horrorMultiplier": 0.8,
        "hintFrequency": "high"
      },
      "medium": {
        "horrorMultiplier": 1.0,
        "hintFrequency": "medium"
      },
      "hard": {
        "horrorMultiplier": 1.2,
        "hintFrequency": "low"
      }
    }
  },
  
  "globalData": {
    "_comment": "References to global/reusable data files",
    "props": "global/props.json",
    "dialogues": "global/dialogues/prop-dialogues.json",
    "templates": "global/templates/rooms.json",
    "palettes": "global/palettes.json"
  }
}
